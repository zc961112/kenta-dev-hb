<template>
  <div class="c-room-style-group" :class="{ 'mobile': isMobile }">
    <div class="c-room-style-info">
      <div class="crsi-photos">
        <img :src="getRoomImagePreview()" class="crsi-photos-img">
        <span class="crsi-photos-count">{{ (room.info.images || []).length }} photos</span>
      </div>
      <div class="crsi-right">
        <div class="crsi-title">{{ room.items[0].room_name }}</div>
        <div class="crsi-text">{{ room.items[0].room_data_trans.bedding_type }}</div>
        <room-facility class="crsi-fs" :list="room.info.room_amenities" />
      </div>
    </div>
    <div class="crsg-list">
      <div v-for="item in room.items" :key="item.book_hash" class="c-room-style-item">
        <div class="crs-box1">
          <div v-if="item.room_data_trans.bedding_type" class="crsb-item">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" style="vertical-align:-4px" viewBox="0 0 16 16" fill="none">
              <path d="M2.2734 8H13.7267C14.0644 8 14.3883 8.13415 14.6271 8.37295C14.8659 8.61175 15.0001 8.93562 15.0001 9.27333V11.82H1.00007V9.28667C0.998307 9.11833 1.02994 8.95132 1.09314 8.79529C1.15634 8.63926 1.24986 8.49731 1.36827 8.37765C1.48669 8.258 1.62766 8.16301 1.78302 8.09819C1.93838 8.03336 2.10506 7.99999 2.2734 8Z" stroke="#1A1A1A" stroke-miterlimit="10"/>
              <path d="M2.90712 2.92676H13.0938C13.4315 2.92676 13.7554 3.06091 13.9942 3.29971C14.233 3.5385 14.3671 3.86238 14.3671 4.20009V8.00009H1.63379V4.20009C1.63379 3.86238 1.76794 3.5385 2.00674 3.29971C2.24554 3.06091 2.56941 2.92676 2.90712 2.92676Z" stroke="#1A1A1A" stroke-miterlimit="10"/>
              <path d="M4.82021 5.4668H6.72687C6.89409 5.4668 7.05967 5.49973 7.21416 5.56372C7.36865 5.62771 7.50902 5.72151 7.62726 5.83975C7.7455 5.95799 7.83929 6.09836 7.90328 6.25285C7.96727 6.40733 8.00021 6.57291 8.00021 6.74013V8.00013H3.54688V6.74013C3.54688 6.40242 3.68103 6.07854 3.91983 5.83975C4.15862 5.60095 4.4825 5.4668 4.82021 5.4668Z" stroke="#1A1A1A" stroke-miterlimit="10"/>
              <path d="M9.27333 5.4668H11.18C11.5177 5.4668 11.8416 5.60095 12.0804 5.83975C12.3192 6.07854 12.4533 6.40242 12.4533 6.74013V8.00013H8V6.74013C8 6.40242 8.13415 6.07854 8.37295 5.83975C8.61175 5.60095 8.93562 5.4668 9.27333 5.4668Z" stroke="#1A1A1A" stroke-miterlimit="10"/>
              <path d="M1.63379 13.7402V11.8335" stroke="#1A1A1A" stroke-miterlimit="10"/>
              <path d="M14.3662 13.7402V11.8335" stroke="#1A1A1A" stroke-miterlimit="10"/>
            </svg>
            <span class="crsb-item-label">{{ item.room_data_trans.bedding_type }}</span>
          </div>
          <div class="crsb-item">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M8.92784 1.915C8.92184 1.862 8.90634 1.81 8.87884 1.761C8.82334 1.6615 8.74584 1.566 8.67534 1.476C8.62734 1.417 8.57784 1.352 8.51934 1.302C8.43634 1.2325 8.34234 1.17 8.23384 1.148C8.15734 1.1335 8.08184 1.128 8.00434 1.125C7.98084 1.124 7.95784 1.1235 7.93484 1.1235C7.89184 1.1235 7.84884 1.125 7.80584 1.127C7.75884 1.128 7.71234 1.13 7.66534 1.129C7.50584 1.128 7.34634 1.1405 7.18684 1.147C7.01584 1.1535 6.84384 1.1625 6.67184 1.167C6.48634 1.172 6.30084 1.1785 6.11584 1.1835C5.94184 1.1875 5.76784 1.2035 5.59434 1.2085C5.29134 1.217 4.98734 1.215 4.68484 1.217C4.37234 1.219 4.05984 1.243 3.74734 1.263C3.59884 1.2725 3.45034 1.2785 3.30234 1.289C3.10934 1.3025 2.90034 1.3165 2.73084 1.421C2.62084 1.488 2.53984 1.5805 2.47284 1.6895C2.37834 1.842 2.36134 2.021 2.37634 2.1955C2.37734 2.2015 2.37934 2.2065 2.38034 2.2125C2.37234 2.243 2.36084 2.273 2.36134 2.306C2.36534 2.7015 2.40134 3.0955 2.42234 3.49C2.44134 3.858 2.44334 4.226 2.45784 4.5925C2.48634 5.3485 2.41584 6.1175 2.61934 6.8555C2.69584 7.1345 2.79234 7.4105 2.93184 7.6665C3.05334 7.889 3.22034 8.061 3.43234 8.198C3.62834 8.324 3.84034 8.369 4.06984 8.39C4.17284 8.3985 4.27734 8.408 4.38134 8.415C4.40884 8.4165 4.43734 8.416 4.46534 8.417C4.44434 8.792 4.42834 9.167 4.41684 9.5435C4.40434 9.9575 4.37584 10.37 4.36834 10.7845C4.35584 11.5555 4.33184 12.3305 4.35784 13.1025C4.36534 13.3355 4.38484 13.568 4.42584 13.798C4.44184 13.885 4.46484 13.968 4.49734 14.051C4.54034 14.163 4.58734 14.2775 4.64834 14.3805C4.75534 14.563 4.90134 14.7265 5.08234 14.8375C5.25434 14.9425 5.46634 14.982 5.66334 14.996C5.83134 15.0075 6.00634 14.992 6.16884 14.9475C6.22734 14.932 6.27884 14.91 6.33434 14.8855C6.41284 14.851 6.47884 14.791 6.54184 14.7335C6.62484 14.656 6.69484 14.551 6.74934 14.4505C6.84584 14.272 6.89184 14.0585 6.93084 13.862C6.97084 13.6605 6.99684 13.451 7.00634 13.2455C7.01484 13.0565 7.02184 12.867 7.02234 12.677C7.02334 12.489 7.00884 12.2995 6.99934 12.1115C6.98134 11.7295 6.95134 11.348 6.92884 10.966C6.90484 10.574 6.87334 10.1835 6.84384 9.7915C6.83134 9.6235 6.82484 9.454 6.80834 9.286C6.79234 9.1085 6.77034 8.9315 6.75184 8.754C6.74434 8.684 6.73384 8.6145 6.72434 8.545C6.86934 8.54 7.01384 8.5365 7.15834 8.5185C7.29284 8.5025 7.42684 8.4915 7.55484 8.446C7.68184 8.402 7.81084 8.36 7.92584 8.2875C8.11584 8.168 8.29484 8.024 8.46084 7.874C8.66134 7.6925 8.77334 7.448 8.86584 7.1985C8.97934 6.888 9.03234 6.547 9.03234 6.217C9.03334 5.854 9.03234 5.489 9.02484 5.126C9.01734 4.7935 9.03034 4.46 9.03934 4.1275C9.04884 3.749 9.03734 3.3705 9.03934 2.9925C9.04134 2.7335 9.07284 2.4755 9.07484 2.2155C9.07484 2.0935 9.01534 1.988 8.92784 1.915ZM8.26984 6.078C8.26884 6.2115 8.27334 6.346 8.25984 6.4795C8.23384 6.652 8.19384 6.8285 8.12984 6.9905C8.09684 7.065 8.06234 7.1415 8.01884 7.21C7.95834 7.2785 7.88884 7.3385 7.81784 7.3955C7.71884 7.4665 7.61134 7.531 7.50134 7.5845C7.40534 7.619 7.30234 7.646 7.20284 7.663C7.06734 7.6795 6.93284 7.6955 6.79784 7.713C6.80934 7.7115 6.82134 7.7095 6.83284 7.708C6.73134 7.7215 6.63584 7.7175 6.53484 7.71C6.39234 7.698 6.27034 7.7835 6.19334 7.8985C6.19184 7.899 6.19084 7.8985 6.18934 7.899C6.18734 7.899 6.18534 7.9 6.18284 7.901C6.01934 7.946 5.90184 8.099 5.90184 8.27C5.90184 8.3215 5.91284 8.3715 5.93234 8.417C5.96234 8.684 5.97984 8.9525 6.00684 9.2195C6.02384 9.3885 6.02784 9.5585 6.03834 9.728C6.05084 9.923 6.07184 10.118 6.08434 10.313C6.11084 10.703 6.13584 11.093 6.17034 11.4815C6.20384 11.859 6.23534 12.2365 6.25084 12.614C6.26234 12.9055 6.25634 13.2035 6.22384 13.4925C6.19534 13.671 6.15734 13.845 6.09634 14.015C6.07834 14.052 6.05784 14.0875 6.03534 14.122C6.01784 14.142 5.99984 14.1615 5.98034 14.18C5.94484 14.1905 5.90884 14.1985 5.87284 14.205C5.79234 14.2115 5.71234 14.211 5.63184 14.2045C5.58934 14.1965 5.54784 14.1855 5.50734 14.172C5.48984 14.163 5.47284 14.1535 5.45584 14.143C5.42134 14.1115 5.38934 14.078 5.35934 14.0425C5.31434 13.9765 5.27634 13.9075 5.24284 13.835C5.22134 13.781 5.20184 13.726 5.18884 13.6695C5.17734 13.6205 5.16884 13.5705 5.16134 13.52C5.11634 13.1575 5.13234 12.7885 5.13434 12.4245C5.13634 12.0375 5.14184 11.6505 5.14884 11.2635C5.16334 10.438 5.18784 9.6125 5.25484 8.7885C5.26934 8.605 5.28434 8.4225 5.29784 8.239C5.30834 8.097 5.22184 7.976 5.10584 7.901C5.10384 7.892 5.10634 7.883 5.10384 7.874C5.07534 7.77 5.00534 7.679 4.91184 7.6245C4.82034 7.571 4.72534 7.561 4.62584 7.576C4.53134 7.5805 4.43284 7.568 4.33934 7.5585C4.24384 7.5485 4.14834 7.543 4.05284 7.5335C4.00234 7.525 3.95184 7.514 3.90334 7.4985C3.85684 7.4735 3.81134 7.4445 3.76734 7.414C3.72884 7.3795 3.69334 7.3415 3.65934 7.302C3.58634 7.198 3.52184 7.086 3.46784 6.971C3.37034 6.7195 3.30684 6.4515 3.26534 6.185C3.23384 5.8955 3.24134 5.602 3.24134 5.312C3.24034 4.9825 3.23084 4.654 3.22284 4.324C3.21534 3.999 3.21334 3.674 3.18384 3.3505C3.15134 3.0025 3.15134 2.655 3.15434 2.306C3.15434 2.296 3.14934 2.2875 3.14834 2.2775C3.15434 2.25 3.16634 2.2225 3.16384 2.1955C3.15984 2.155 3.15484 2.114 3.15334 2.073C3.21184 2.0565 3.27234 2.045 3.33234 2.0355C3.48834 2.018 3.64634 2.008 3.80334 1.9945C3.80934 2.315 3.82834 2.6345 3.85284 2.9545C3.86334 3.102 3.86634 3.248 3.87684 3.395C3.88834 3.547 3.90384 3.698 3.91234 3.851C3.92834 4.135 3.93034 4.4205 3.92834 4.705C3.92684 4.9805 3.92634 5.255 3.91684 5.5305C3.90784 5.5495 3.89984 5.5695 3.89384 5.5905C3.88034 5.6405 3.88034 5.6895 3.87934 5.74C3.87734 5.9465 4.05434 6.1185 4.25884 6.1185C4.46234 6.1185 4.64084 5.9465 4.63734 5.74C4.63734 5.724 4.63734 5.7075 4.63734 5.6915C4.63684 5.6375 4.62534 5.589 4.60584 5.545C4.60484 5.2735 4.61884 5.002 4.61734 4.7305C4.61534 4.4445 4.61534 4.1585 4.60084 3.873C4.58684 3.571 4.55984 3.271 4.55234 2.969C4.54434 2.627 4.54034 2.2855 4.54184 1.9435C4.74284 1.936 4.94434 1.9305 5.14484 1.931C5.17884 1.931 5.21334 1.9305 5.24734 1.9305C5.25334 2.244 5.26534 2.5575 5.27184 2.8705C5.27834 3.209 5.28234 3.547 5.28634 3.8845C5.28834 4.0525 5.28934 4.22 5.28934 4.387C5.28934 4.5515 5.27884 4.7155 5.28384 4.88C5.28784 5.0465 5.29984 5.2125 5.30884 5.379C5.31534 5.5195 5.31384 5.659 5.31434 5.7995C5.31434 5.9965 5.47784 6.1605 5.67534 6.1605C5.85984 6.1605 6.05184 5.996 6.03634 5.7995C6.02584 5.6675 6.02384 5.535 6.02084 5.402C6.01784 5.2375 6.00734 5.0735 6.00534 4.909C6.00434 4.739 6.01284 4.568 6.01584 4.398C6.01984 4.227 6.01884 4.056 6.01884 3.885C6.01884 3.5505 6.00734 3.215 6.01234 2.88C6.01734 2.558 6.03134 2.236 6.03784 1.914C6.18184 1.9115 6.32534 1.9095 6.46984 1.908C6.52434 1.907 6.57834 1.907 6.63284 1.9065C6.63734 2.266 6.65334 2.624 6.67684 2.983C6.70084 3.347 6.73134 3.712 6.74734 4.077C6.76284 4.423 6.76534 4.77 6.78634 5.1155C6.80184 5.3715 6.78834 5.6335 6.82934 5.8875C6.84384 5.9775 6.92484 6.065 7.00034 6.11C7.08634 6.1595 7.19134 6.174 7.28784 6.1475C7.38034 6.1215 7.46184 6.0595 7.51034 5.9765C7.55434 5.901 7.56284 5.8275 7.55534 5.748C7.55684 5.759 7.55834 5.7705 7.55984 5.7815C7.55384 5.726 7.54684 5.6715 7.53934 5.6165C7.52834 5.5225 7.52634 5.428 7.52084 5.3335C7.51334 5.176 7.49984 5.019 7.49234 4.8625C7.47684 4.5415 7.47434 4.2195 7.45884 3.8985C7.44284 3.564 7.41484 3.2295 7.39284 2.896C7.37184 2.5625 7.38684 2.2275 7.39084 1.894C7.42084 1.8935 7.45084 1.8915 7.48134 1.892C7.54634 1.894 7.61234 1.893 7.67734 1.892C7.78534 1.8895 7.89284 1.888 7.99984 1.8965C8.02884 1.926 8.05684 1.958 8.08284 1.99C8.12284 2.0455 8.16234 2.104 8.19334 2.1635C8.21484 2.2035 8.24584 2.2345 8.27934 2.2625C8.28134 2.629 8.26534 2.997 8.26334 3.3635C8.26134 3.744 8.25934 4.125 8.25784 4.5065C8.25584 4.845 8.26934 5.182 8.27134 5.5205C8.27284 5.705 8.27284 5.8915 8.26984 6.078ZM13.6228 7.115C13.5733 6.7365 13.5208 6.36 13.4248 5.9915C13.3348 5.641 13.2403 5.293 13.1668 4.9375C13.0943 4.579 13.0103 4.222 12.9108 3.87C12.8613 3.694 12.8103 3.5165 12.7483 3.3455C12.6843 3.1705 12.6153 2.9985 12.5448 2.8275C12.4673 2.6395 12.3918 2.4455 12.2943 2.2655C12.2093 2.1105 12.1193 1.9595 12.0238 1.8115C11.9253 1.6595 11.8243 1.5055 11.7038 1.372C11.5768 1.2315 11.4153 1.116 11.2373 1.05C11.1423 1.0145 11.0443 1 10.9468 1C10.7703 1 10.5928 1.048 10.4258 1.1075C10.3263 1.144 10.2453 1.1955 10.1908 1.289C10.1518 1.3545 10.1413 1.43 10.1453 1.505C10.1433 1.5195 10.1363 1.5325 10.1358 1.5475C10.1223 1.9515 10.1128 2.355 10.0983 2.759C10.0858 3.148 10.0828 3.538 10.0928 3.9255C10.1138 4.714 10.1673 5.501 10.1893 6.2895C10.1998 6.6805 10.2093 7.071 10.2038 7.462C10.1983 7.8405 10.1768 8.22 10.1618 8.598C10.1473 8.9795 10.1458 9.3595 10.1458 9.741C10.1448 10.1205 10.1373 10.5015 10.1498 10.881C10.1623 11.2555 10.1738 11.629 10.1908 12.003C10.1993 12.179 10.2013 12.3545 10.2098 12.5315C10.2173 12.6795 10.2223 12.8285 10.2203 12.977C10.2183 13.2475 10.2193 13.519 10.2508 13.7875C10.2823 14.055 10.3293 14.3235 10.4553 14.5655C10.5298 14.709 10.6723 14.816 10.8138 14.8895C10.9323 14.9505 11.0573 14.9745 11.1903 14.9715C11.2608 14.9705 11.3328 14.9675 11.4043 14.9685C11.4923 14.9705 11.5773 14.9645 11.6653 14.9435C11.7428 14.9255 11.8173 14.886 11.8888 14.852C11.9918 14.8025 12.0788 14.727 12.1648 14.6525C12.2413 14.5855 12.3243 14.529 12.3913 14.452C12.4638 14.37 12.5318 14.28 12.5978 14.192C12.6483 14.125 12.6798 14.0285 12.7108 13.953C12.7203 13.9315 12.7288 13.91 12.7378 13.8885C12.7943 13.759 12.8543 13.6345 12.8818 13.494C12.9093 13.3525 12.9543 13.215 12.9783 13.0725C13.0058 12.9035 13.0253 12.7265 13.0358 12.5545C13.0473 12.376 13.0503 12.1935 13.0413 12.0145C13.0308 11.7945 12.9838 11.577 12.9408 11.363C12.9083 11.2005 12.8798 11.039 12.8558 10.8745C12.8128 10.586 12.7413 10.301 12.6733 10.0175C12.6493 9.916 12.6438 9.811 12.6103 9.7115C12.6033 9.69 12.5993 9.6685 12.5923 9.6475C12.6063 9.631 12.6263 9.6175 12.6343 9.599C12.6378 9.591 12.6413 9.5835 12.6453 9.576C12.6868 9.532 12.7328 9.4925 12.7793 9.453C12.8928 9.3545 13.0028 9.241 13.0853 9.114C13.1723 8.9765 13.2468 8.8285 13.3158 8.682C13.3968 8.512 13.4498 8.3285 13.5068 8.149C13.6133 7.818 13.6698 7.462 13.6228 7.115ZM12.8253 7.626C12.8043 7.746 12.7713 7.863 12.7393 7.98C12.7043 8.1055 12.6683 8.231 12.6218 8.352C12.5698 8.47 12.5163 8.592 12.4443 8.699C12.3703 8.787 12.2918 8.875 12.2058 8.948C12.1158 9.0255 12.0183 9.099 11.9708 9.2115C11.9643 9.226 11.9623 9.2395 11.9573 9.254C11.8488 9.3245 11.7678 9.439 11.7768 9.5725C11.7843 9.6775 11.7988 9.779 11.8363 9.8775C11.8648 9.951 11.8783 10.0255 11.8898 10.103C11.8983 10.1665 11.9078 10.229 11.9238 10.2915C11.9408 10.3605 11.9618 10.429 11.9773 10.499C12.0078 10.633 12.0318 10.7675 12.0548 10.902C12.1138 11.235 12.1958 11.5645 12.2533 11.898C12.2858 12.1915 12.2733 12.488 12.2383 12.7815C12.2198 12.9065 12.1908 13.029 12.1598 13.1515C12.1263 13.2805 12.0928 13.4065 12.0443 13.5295C12.0023 13.628 11.9563 13.728 11.8953 13.8145C11.8548 13.8655 11.8118 13.916 11.7643 13.96C11.7058 14.014 11.6423 14.064 11.5788 14.1135C11.5458 14.1365 11.5113 14.157 11.4753 14.1755C11.4623 14.18 11.4488 14.1835 11.4358 14.187C11.3443 14.193 11.2513 14.2015 11.1598 14.1985C11.1518 14.1935 11.1438 14.1885 11.1358 14.183C11.1318 14.1795 11.1278 14.1755 11.1238 14.172C11.1173 14.1615 11.1113 14.1505 11.1058 14.1395C11.0633 14.014 11.0343 13.8845 11.0143 13.7535C10.9863 13.5025 10.9848 13.2535 10.9793 13.001C10.9763 12.8575 10.9668 12.7145 10.9593 12.571C10.9488 12.397 10.9448 12.223 10.9373 12.0485C10.9218 11.6805 10.8983 11.3125 10.8893 10.944C10.8808 10.5665 10.8808 10.19 10.8798 9.8115C10.8788 9.0385 10.8978 8.2655 10.9068 7.4925C10.9163 6.7025 10.8913 5.912 10.8513 5.1225C10.8228 4.534 10.7918 3.9435 10.7958 3.354C10.7993 2.829 10.8448 2.3075 10.8783 1.784C10.8908 1.7805 10.9023 1.7745 10.9148 1.7715C10.9288 1.7715 10.9428 1.7715 10.9573 1.7725C10.9738 1.776 10.9903 1.7805 11.0063 1.7855C11.0358 1.802 11.0648 1.8195 11.0933 1.8385C11.1568 1.896 11.2128 1.96 11.2668 2.0265C11.2783 2.041 11.2893 2.0555 11.3008 2.07C11.2963 2.064 11.2913 2.058 11.2868 2.052C11.4093 2.2095 11.5188 2.375 11.6213 2.546C11.7128 2.701 11.7878 2.8615 11.8593 3.0255C11.8568 3.0195 11.8543 3.0135 11.8518 3.0075C11.8543 3.014 11.8573 3.0205 11.8598 3.027C11.8693 3.0485 11.8788 3.0705 11.8878 3.0925C11.8788 3.072 11.8698 3.0515 11.8613 3.0315C11.9188 3.1705 11.9748 3.31 12.0293 3.451C12.0818 3.5885 12.1228 3.728 12.1638 3.8705C12.2518 4.1735 12.3308 4.478 12.3988 4.787C12.4658 5.0945 12.5248 5.4045 12.5888 5.712C12.6183 5.8555 12.6613 5.995 12.6938 6.137C12.7283 6.291 12.7548 6.446 12.7778 6.6025C12.7998 6.773 12.8223 6.9435 12.8323 7.1155C12.8413 7.287 12.8423 7.4545 12.8253 7.626ZM11.8603 3.031C11.8593 3.029 11.8588 3.027 11.8578 3.0255C11.8578 3.026 11.8583 3.0265 11.8583 3.027C11.8588 3.028 11.8598 3.0295 11.8603 3.031Z" fill="#1A1A1A"/>
            </svg>
            <span class="crsb-item-label">{{ item.meal }}</span>
          </div>
          <div v-if="!item.room_data_trans.bedding_type" class="crsb-item red">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M4.86654 8.40006L6.7332 14.0001C6.7548 14.0485 6.78579 14.0921 6.82439 14.1284C6.86299 14.1647 6.90842 14.193 6.95804 14.2116C7.00766 14.2302 7.06049 14.2388 7.11345 14.2368C7.16641 14.2348 7.21844 14.2223 7.26654 14.2001L7.9332 13.8667C8.21391 13.7207 8.44929 13.5006 8.61382 13.2303C8.77835 12.96 8.86574 12.6498 8.86654 12.3334V9.7334H13.1332C13.3346 9.72973 13.5326 9.68047 13.7123 9.58931C13.8919 9.49814 14.0486 9.36746 14.1705 9.20706C14.2924 9.04667 14.3764 8.86073 14.4161 8.66323C14.4558 8.46573 14.4503 8.26179 14.3999 8.06673L13.0665 2.7334C12.9937 2.45118 12.8304 2.2006 12.6017 2.02C12.3729 1.8394 12.0913 1.73873 11.7999 1.7334H2.86654C2.51291 1.7334 2.17378 1.87387 1.92373 2.12392C1.67368 2.37397 1.5332 2.71311 1.5332 3.06673V7.06673C1.5332 7.42035 1.67368 7.75949 1.92373 8.00954C2.17378 8.25959 2.51291 8.40006 2.86654 8.40006H4.86654ZM4.86654 8.40006V1.7334" stroke="#EE2344" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="crsb-item-label">Bed type not guaranteed</span>
          </div>
          <div class="crsb-item">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" style="margin-top: -0.1rem;" viewBox="0 0 16 16" fill="none">
              <g clip-path="url(#clip0_20_4457)">
                <path d="M10.3333 14.833H1.58332C1.23332 14.833 1 15.0664 1 15.4164V17.7497C1 18.0997 1.23332 18.333 1.58332 18.333H10.3333C10.6833 18.333 10.9167 18.0997 10.9167 17.7497V15.4164C10.9167 15.0664 10.6833 14.833 10.3333 14.833ZM9.75001 17.1664H2.16668V15.9997H9.75001V17.1664Z" fill="#1A1A1A"/>
                <path d="M14.4167 14.833H10.3333C9.98332 14.833 9.75 15.0663 9.75 15.4163V17.7497C9.75 18.0997 9.98332 18.333 10.3333 18.333H14.4167C14.7667 18.333 15 18.0997 15 17.7497V15.4164C15 15.0664 14.7667 14.833 14.4167 14.833ZM13.8333 17.1664H10.9167V15.9997H13.8334V17.1664H13.8333Z" fill="#1A1A1A"/>
                <path d="M4.55801 9.64188C4.26633 9.5252 3.91633 9.64188 3.79969 9.93355C3.68301 10.2252 3.79969 10.5752 4.09136 10.6919C4.20804 10.7502 4.26636 10.8086 4.26636 10.9252C4.26636 11.0419 4.14969 11.1585 4.03304 11.1585C3.44969 11.1585 3.27469 11.8585 3.62469 12.1502H2.80801C2.10801 12.2085 1.58301 12.8502 1.58301 13.6669C1.58301 14.0169 1.81633 14.2502 2.16633 14.2502C2.51636 14.2502 2.74968 14.0169 2.74968 13.6669C2.74968 13.4335 2.80801 13.3752 2.80801 13.3752H3.79969C4.38301 13.3752 4.90801 12.9085 4.90801 12.2669C4.90801 12.2086 4.90801 12.0919 4.90801 12.0336C5.19969 11.8002 5.43301 11.3919 5.43301 10.9252C5.43301 10.3419 5.08301 9.8752 4.55801 9.64188Z" fill="#1A1A1A"/>
                <path d="M14.825 9.17499C14.5917 8.94167 14.2417 8.94167 14.0083 9.17499L1.17499 22.0083C0.941669 22.2417 0.941669 22.5917 1.17499 22.825C1.40832 23.0583 1.75832 23.0583 1.99167 22.825L14.825 9.99167C15.0583 9.75832 15.0583 9.40832 14.825 9.17499Z" fill="#1A1A1A"/>
              </g>
              <defs>
                <clipPath id="clip0_20_4457">
                  <rect width="16" height="16" fill="white"/>
                </clipPath>
              </defs>
            </svg>
            <span class="crsb-item-label">{{ item.amenities_data.includes('non-smoking') ? 'Non-smoking' : 'Smoking' }}</span>
          </div>
        </div>
        <div class="crs-box2">
          <div class="crsb-item green">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <g clip-path="url(#clip0_20_4483)">
                <path d="M6.33398 9.1668C6.33398 9.81347 6.83398 10.3335 7.44732 10.3335H8.70065C9.23398 10.3335 9.66732 9.88014 9.66732 9.31347C9.66732 8.7068 9.40065 8.4868 9.00732 8.3468L7.00065 7.6468C6.60732 7.5068 6.34066 7.29347 6.34066 6.68014C6.34066 6.12016 6.77398 5.66016 7.30732 5.66016H8.56065C9.17398 5.66016 9.67398 6.18016 9.67398 6.8268" stroke="#00BC93" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M8.00098 5V11" stroke="#00BC93" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M14.6663 8.00016C14.6663 11.6802 11.6797 14.6668 7.99967 14.6668C4.31967 14.6668 1.33301 11.6802 1.33301 8.00016C1.33301 4.32016 4.31967 1.3335 7.99967 1.3335" stroke="#00BC93" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M14.6667 4.00016V1.3335H12" stroke="#00BC93" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M11.333 4.66683L14.6663 1.3335" stroke="#00BC93" stroke-linecap="round" stroke-linejoin="round"/>
              </g>
              <defs>
                <clipPath id="clip0_20_4483">
                  <rect width="16" height="16" fill="white"/>
                </clipPath>
              </defs>
            </svg>
            <span v-if="item.payment_options.payment_types[0].cancellation_penalties.free_cancellation_before" class="crsb-item-label">Free cancellation before {{ item.payment_options.payment_types[0].cancellation_penalties.free_cancellation_before | filterCancelTime }}（UTC+0）</span>
            <span v-else class="crsb-item-label">No-cancellation</span>
          </div>
          <div class="crsb-item">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
              <g clip-path="url(#clip0_20_4494)">
                <path d="M13.3337 9.99984C13.7019 9.99984 14.0003 9.70137 14.0003 9.33317C14.0003 8.96497 13.7019 8.6665 13.3337 8.6665C12.9655 8.6665 12.667 8.96497 12.667 9.33317C12.667 9.70137 12.9655 9.99984 13.3337 9.99984Z" fill="#1A1A1A"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M11.1837 0.656932C12.3283 0.307188 13.5217 1.03432 13.7359 2.21187L13.9578 3.43264C14.7567 3.69483 15.3337 4.44671 15.3337 5.33333V7.17593C15.7428 7.54213 16.0003 8.07433 16.0003 8.66667V10C16.0003 10.5923 15.7428 11.1245 15.3337 11.4907V13.3333C15.3337 14.4379 14.4383 15.3333 13.3337 15.3333H2.66699C1.56243 15.3333 0.666992 14.4379 0.666992 13.3333V5.33333C0.666992 4.34206 1.38815 3.51923 2.33445 3.36085L11.1837 0.656932ZM14.0003 10.6667C14.3685 10.6667 14.667 10.3682 14.667 10V8.66667C14.667 8.29847 14.3685 8 14.0003 8H12.0003C11.6321 8 11.3337 8.29847 11.3337 8.66667V10C11.3337 10.3682 11.6321 10.6667 12.0003 10.6667H14.0003ZM14.0003 12V13.3333C14.0003 13.7015 13.7019 14 13.3337 14H2.66699C2.29881 14 2.00033 13.7015 2.00033 13.3333V5.33333C2.00033 4.96515 2.29881 4.66667 2.66699 4.66667H13.3337C13.7003 4.66667 13.9978 4.96264 14.0003 5.32869V6.66667H12.0003C10.8957 6.66667 10.0003 7.56207 10.0003 8.66667V10C10.0003 11.1046 10.8957 12 12.0003 12H14.0003ZM12.4639 2.4047L12.6278 3.33333H6.66699L11.6158 1.88201C11.998 1.76736 12.3946 2.01179 12.4639 2.4047Z" fill="#1A1A1A"/>
              </g>
              <defs>
                <clipPath id="clip0_20_4494">
                  <rect width="16" height="16" fill="white"/>
                </clipPath>
              </defs>
            </svg>
            <span class="crsb-item-label">Pay now</span>
          </div>
        </div>
        <div v-if="isMobile" class="crs-box3">
          <div class="crsb-row">
            <span class="crsb-rr-save" style="border-radius: 0.04rem;">Best price</span>
          </div>
          <div class="crsb-row mt8">
            <span class="crsb-rr-num">€ {{ item.payment_options.payment_types[0].amount | filterMoney }}</span>
          </div>
          <div class="crsb-row mt4">
            <span class="crsb-rr-text">+ Taxes and fees: € {{ getTaxes(item) }} <br>for {{ guestDetail }}</span>
          </div>
          <div class="crsb-row-btn">
            <el-button class="crsb-btn" type="primary" @click="chooseRoom(item)">Book Now</el-button>
          </div>
        </div>
        <div v-else class="crs-box3" :class="{ 'selected': current && item.book_hash === current.book_hash }">
          <div class="crsb-row">
            <div class="crsb-row-left">
              <span class="crsb-rr-num">€ {{ item.payment_options.payment_types[0].amount | filterMoney }}</span>
              <span class="crsb-rr-num2">€{{ getOldPrice(item) }} {{ item.payment_options.payment_types[0].currency_code }}</span>
            </div>
            <div class="crsb-row-right">
              <span class="crsb-rr-label">Best price</span>
            </div>
          </div>
          <div class="crsb-row" style="align-items: flex-end;">
            <div class="crsb-row-left">
              <span class="crsb-rr-text">+ Taxes and fees: {{ currencyMap[item.payment_options.payment_types[0].tax_data.taxes[0].currency_code] || '€' }} {{ getTaxes(item) }} <br>for {{ guestDetail }}</span>
            </div>
            <div class="crsb-row-right">
              <span v-if="current && item.book_hash === current.book_hash" class="crsb-row-btn-selected">Selected</span>
              <el-button v-else type="primary" @click="chooseRoom(item)">Select</el-button>
            </div>
          </div>
          <div class="crsb-row" style="margin-top: 0.08rem;">
            <span class="crsb-rr-save">SAVE €0</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import dayjs from 'dayjs'
import { countryList } from '@/config/data'
import { currencyMap } from '@/config/paypal'

export default {
  data() {
      return {
        countryList,
        currencyMap
      }
    },
  props: {
    room: Object,
    current: Object,
    guestDetail: String,
    isMobile: Boolean
  },
  filters: {
    filterCancelTime (val) {
      return dayjs(new Date(val)).format('MM-DD HH:mm')
    },
    filterMoney (val) {
      return val ? parseFloat(val).toFixed(2) : '0.00'
    }
  },
  methods: {
    getOldPrice (item) {
      const amount = item.payment_options.payment_types[0].amount * 1
      const tax = this.getTaxes(item)
      return (amount + tax * 1).toFixed(2)
    },
    getTaxes (item) {
      // console.log('taxes: ', item.payment_options.payment_types[0].tax_data.taxes)
      const taxes = item.payment_options.payment_types[0].tax_data.taxes || []
      let total = 0
      taxes.forEach(t => {
        total += t.amount * 1
      })
      return total.toFixed(2)
    },
    getRoomImagePreview () {
      const imgs = this.room.info.images || []
      if (imgs.length) {
        return imgs[0].replace('{size}', '120x120')
      }
      return ''
    },
    chooseRoom (item) {
      this.$emit('room-select', { info: this.room.info, item })
    }
  }
}
</script>

<style lang="scss" scoped>
.c-room-style-group {
  border: 0.01rem solid #DADADA;
  background: #F5F5F5;
  border-radius: 0.08rem 0.08rem 0 0;
  &.mobile {
    border-radius: 0;
    border: none;
    .c-room-style-info {
      padding: 0.16rem 0.2rem;
    }
    .crsi-photos-img {
      width: 0.88rem;
      height: 0.72rem;
    }
    .crsi-right {
      padding: 0 0.11rem;
    }
    .crsi-title {
      font-size: 0.14rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .crsg-list {
      padding: 0.16rem 0.2rem;
      display: flex;
      align-items: flex-start;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }
    .c-room-style-item:not(:last-child) {
      margin-right: 0.16rem;
    }
    .c-room-style-item {
      flex: 0 0 auto;
      width: 2.48rem;
      flex-direction: column;
      border-top: 0;
    }
    .crs-box1 {
      width: auto;
    }
    .crs-box2,
    .crs-box3 {
      width: 100%;
      &:before {
        height: 1px;
        top: 0;
        left: 0.12rem;
        right: 0.12rem;
        border-top: 0.01rem solid #DADADA;
      }
    }
  }

  .mt8 {
    margin-top: 0.08rem;
  }
  .mt4 {
    margin-top: 0.04rem;
  }
}
.c-room-style-info {
  background-color: #FEFEFE;
  display: flex;
  .crsi-photos {
    position: relative;
    font-size: 0;
  }
  .crsi-photos-img {
    width: 1.2rem;
    height: 100%;
    border-radius: 4px 4px 0 0;
  }
  .crsi-photos-count {
    background-color: #F5F5F5;
    position: absolute;
    right: 0.08rem;
    bottom: 0.08rem;
    padding: 0.02rem 0.04rem;
    border-radius: 0.04rem;
    color: #1A1A1A;
    font-size: 0.2rem;
    transform: scale(0.5) translate(50%, 50%);
    white-space: nowrap;
  }
  .crsi-right {
    flex: 1;
    min-width: 0;
    padding: 0.15rem 0.16rem;
  }
  .crsi-title {
    color: #1A1A1A;
    font-size: 0.16rem;
    font-weight: 500;
  }
  .crsi-text {
    margin-top: 0.04rem;
    color: rgba(26, 26, 26, 0.40);
    font-size: 0.12rem;
    font-weight: 400;
  }
  .crsi-fs {
    margin-top: 0.08rem;
  }
}
.c-room-style-item {
  background-color: #FEFEFE;
  display: flex;
  align-items: flex-start;
  border-top: 0.01rem solid #DADADA;

  .crsb-item {
    margin-bottom: 0.08rem;
    &:last-child {
      margin-bottom: 0;
    }
    &.red {
      color: #EE2344;
    }
    &.green {
      color: #00BC93;
    }
  }
  .crsb-item-label {
    font-size: 0.12rem;
    font-weight: 400;
  }
  svg {
    vertical-align: middle;
  }
  .crs-box1 {
    padding: 0.16rem 0.15rem;
    width: 1.99rem;
  }
  .crs-box2 {
    width: 2.77rem;
    padding: 0.16rem 0.15rem;
    position: relative;
    &:before {
      content: '';
      position: absolute;
      top: 0.16rem;
      height: 1.04rem;
      left: 0;
      border-left: 0.01rem solid #DADADA;
    }
  }
  .crs-box3 {
    flex: 1;
    min-width: 0;
    padding: 0.16rem 0.15rem;
    position: relative;
    &:before {
      content: '';
      position: absolute;
      top: 0.16rem;
      height: 1.04rem;
      left: 0;
      border-left: 0.01rem solid #DADADA;
    }
    &.selected {
      background: rgba(0, 188, 147, 0.04);
    }
  }
  .crsb-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.04rem;
  }
  .crsb-row-btn {
    margin-top: 0.24rem;
  }
  .crsb-btn {
    width: 100%;
  }
  .crsb-rr-num {
    font-size: 0.2rem;
  }
  .crsb-rr-num2 {
    margin-left: 0.04rem;
    font-size: 0.12rem;
    color: rgba(26, 26, 26, 0.40);
    text-decoration: line-through;
  }
  .crsb-rr-label {
    color: rgba(0, 188, 147, 0.60);
    font-size: 0.12rem;
  }
  .crsb-rr-text {
    font-size: 0.12rem;
    line-height: 0.16rem;
  }
  .crsb-rr-save {
    padding: 0.02rem 0.04rem;
    line-height: 1;
    color: #FEFEFE;
    border-radius: 0.18rem;
    background: #00BC93;
    font-size: 0.12rem;
  }
  .crsb-row-btn-selected {
    display: inline-block;
    height: 0.4rem;
    line-height: 0.4rem;
    padding: 0 16px;
    text-align: center;
    color: #FF3263;
    font-size: 0.14rem;
    border-radius: 8px;
    border: 1px solid #DADADA;
    background: #F5F5F5;
  }
}
</style>
